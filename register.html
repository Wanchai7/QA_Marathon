<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ß‡∏¥‡πà‡∏á‡∏°‡∏≤‡∏£‡∏≤‡∏ò‡∏≠‡∏ô 2025</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600&display=swap');
        
        body {
            font-family: 'Sarabun', sans-serif;
            background-color: #f0f2f5;
        }
        .form-container {
            max-width: 800px;
            margin: 40px auto;
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .header-title {
            color: #0d6efd;
            font-weight: bold;
            margin-bottom: 30px;
            text-align: center;
        }
        .section-header {
            border-left: 5px solid #0d6efd;
            padding-left: 10px;
            margin-top: 30px;
            margin-bottom: 20px;
            color: #495057;
        }
        .total-box {
            background: #e7f1ff;
            color: #0d6efd;
            padding: 20px;
            border-radius: 10px;
            text-align: right;
            font-size: 1.5rem;
            font-weight: bold;
            border: 1px solid #b6d4fe;
        }
    </style>
</head>
<body>

<div class="container">
    <div class="form-container">
        <h2 class="header-title">üèÉ‚Äç‚ôÇÔ∏è ‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ß‡∏¥‡πà‡∏á</h2>
        
        <form id="regisForm" action="save_registration.php" method="POST">
            
            <h4 class="section-header">1. ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡∏ß‡∏¥‡πà‡∏á (Runner Info)</h4>
            <div class="row g-3">
                <div class="col-md-6">
                    <label class="form-label">‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏£‡∏¥‡∏á <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" name="‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏£‡∏¥‡∏á" required placeholder="‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢ ‡∏´‡∏£‡∏∑‡∏≠ ‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©">
                </div>
                <div class="col-md-6">
                    <label class="form-label">‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" name="‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•" required>
                </div>
                <div class="col-md-6">
                    <label class="form-label">‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô (13 ‡∏´‡∏•‡∏±‡∏Å) <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" name="‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô" maxlength="13" required>
                </div>
                <div class="col-md-6">
                    <label class="form-label">‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î <span class="text-danger">*</span></label>
                    <input type="date" class="form-control" name="‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î" required>
                </div>
                <div class="col-md-6">
                    <label class="form-label">‡πÄ‡∏û‡∏® <span class="text-danger">*</span></label>
                    <select class="form-select" name="‡πÄ‡∏û‡∏®" required>
                        <option value="‡∏ä‡∏≤‡∏¢">‡∏ä‡∏≤‡∏¢</option>
                        <option value="‡∏´‡∏ç‡∏¥‡∏á">‡∏´‡∏ç‡∏¥‡∏á</option>
                        <option value="‡∏≠‡∏∑‡πà‡∏ô‡πÜ">‡∏≠‡∏∑‡πà‡∏ô‡πÜ</option>
                    </select>
                </div>
                <div class="col-md-6">
                    <label class="form-label">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</label>
                    <input type="tel" class="form-control" name="‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå">
                </div>
                <div class="col-md-12">
                    <label class="form-label">‡∏≠‡∏µ‡πÄ‡∏°‡∏• <span class="text-danger">*</span></label>
                    <input type="email" class="form-control" name="‡∏≠‡∏µ‡πÄ‡∏°‡∏•" required placeholder="example@email.com">
                </div>
            </div>

            <h4 class="section-header">2. ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£ (Race Details)</h4>
            <div class="row g-3">
                <div class="col-md-12">
                    <label class="form-label">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô <span class="text-danger">*</span></label>
                    <select class="form-select" id="raceCategory" name="‡∏£‡∏´‡∏±‡∏™‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó" onchange="calculatePrice()" required>
                        <option value="" data-price="0" selected disabled>-- ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á --</option>
                        <option value="1" data-price="1200">Full Marathon (42 km) - 1,200 ‡∏ö.</option>
                        <option value="2" data-price="900">Half Marathon (21 km) - 900 ‡∏ö.</option>
                        <option value="3" data-price="600">Mini Marathon (10.5 km) - 600 ‡∏ö.</option>
                        <option value="4" data-price="400">Fun Run (5 km) - 400 ‡∏ö.</option>
                    </select>
                </div>

                <div class="col-md-6">
                    <label class="form-label">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£ (‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î)</label>
                    <select class="form-select" id="runnerType" name="‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ô‡∏±‡∏Å‡∏ß‡∏¥‡πà‡∏á" onchange="calculatePrice()">
                        <option value="‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ" data-discount="0">‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ (‡∏£‡∏≤‡∏Ñ‡∏≤‡∏õ‡∏Å‡∏ï‡∏¥)</option>
                        <option value="‡∏ú‡∏π‡πâ‡∏™‡∏π‡∏á‡∏≠‡∏≤‡∏¢‡∏∏" data-discount="200">‡∏ú‡∏π‡πâ‡∏™‡∏π‡∏á‡∏≠‡∏≤‡∏¢‡∏∏ 60 ‡∏õ‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ (‡∏•‡∏î 200 ‡∏ö.)</option>
                        <option value="‡∏ú‡∏π‡πâ‡∏û‡∏¥‡∏Å‡∏≤‡∏£" data-discount="500">‡∏ú‡∏π‡πâ‡∏û‡∏¥‡∏Å‡∏≤‡∏£ (‡∏•‡∏î 500 ‡∏ö.)</option>
                    </select>
                </div>

                <div class="col-md-6">
                    <label class="form-label">‡πÑ‡∏ã‡∏™‡πå‡πÄ‡∏™‡∏∑‡πâ‡∏≠</label>
                    <select class="form-select" name="‡πÑ‡∏ã‡∏™‡πå‡πÄ‡∏™‡∏∑‡πâ‡∏≠">
                        <option value="XS">XS (34")</option>
                        <option value="S">S (36")</option>
                        <option value="M">M (38")</option>
                        <option value="L">L (40")</option>
                        <option value="XL">XL (42")</option>
                        <option value="2XL">2XL (44")</option>
                    </select>
                </div>
            </div>

            <h4 class="section-header">3. ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏™‡πà‡∏á (Shipping)</h4>
            <div class="row g-3">
                <div class="col-md-12">
                    <label class="form-label">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á <span class="text-danger">*</span></label>
                    <select class="form-select" id="shippingOption" name="‡∏£‡∏´‡∏±‡∏™‡∏Ç‡∏ô‡∏™‡πà‡∏á" onchange="calculatePrice()" required>
                        <option value="1" data-cost="0">‡∏£‡∏±‡∏ö‡πÄ‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏á‡∏≤‡∏ô (‡∏ü‡∏£‡∏µ)</option>
                        <option value="2" data-cost="60">‡∏à‡∏±‡∏î‡∏™‡πà‡∏á‡πÑ‡∏õ‡∏£‡∏©‡∏ì‡∏µ‡∏¢‡πå EMS (+60 ‡∏ö.)</option>
                        <option value="3" data-cost="100">‡∏à‡∏±‡∏î‡∏™‡πà‡∏á KERRY (+100 ‡∏ö.)</option>
                    </select>
                </div>
            </div>

            <hr class="my-4">

            <div class="total-box">
                ‡∏¢‡∏≠‡∏î‡∏™‡∏∏‡∏ó‡∏ò‡∏¥: <span id="totalDisplay">0</span> ‡∏ö‡∏≤‡∏ó
                <input type="hidden" id="totalAmount" name="‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°" value="0">
            </div>

            <div class="d-grid gap-2 mt-4">
                <button type="submit" class="btn btn-primary btn-lg shadow">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£</button>
            </div>

        </form>
    </div>
</div>

<script>
    function calculatePrice() {
        // 1. ‡∏î‡∏∂‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ê‡∏≤‡∏ô (Base Price)
        const raceSelect = document.getElementById('raceCategory');
        const selectedRace = raceSelect.options[raceSelect.selectedIndex];
        const basePrice = parseFloat(selectedRace.getAttribute('data-price')) || 0;

        // 2. ‡∏î‡∏∂‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î (Discount)
        const typeSelect = document.getElementById('runnerType');
        const selectedType = typeSelect.options[typeSelect.selectedIndex];
        const discount = parseFloat(selectedType.getAttribute('data-discount')) || 0;

        // 3. ‡∏î‡∏∂‡∏á‡∏Ñ‡πà‡∏≤‡∏™‡πà‡∏á (Shipping Cost)
        const shipSelect = document.getElementById('shippingOption');
        const selectedShip = shipSelect.options[shipSelect.selectedIndex];
        const shippingCost = parseFloat(selectedShip.getAttribute('data-cost')) || 0;

        // 4. ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì (‡∏´‡πâ‡∏≤‡∏°‡∏ï‡∏¥‡∏î‡∏•‡∏ö)
        let total = (basePrice - discount) + shippingCost;
        if (total < 0) total = 0;

        // 5. ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô input hidden
        document.getElementById('totalDisplay').innerText = total.toLocaleString();
        document.getElementById('totalAmount').value = total;
    }
</script>

</body>
</html>